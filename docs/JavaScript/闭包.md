### 1.什么是闭包？
> 当函数可以记住并访问所在的词法作用域，即使函数是在当前词法作用域之外执行，这就产生了闭包。--《你不知道的JavaScript上卷》

个人理解：闭包就是函数中的函数，里面的函数可以访问外面函数的变量，外面的变量的是这个内部函数的一部分。

例：其中func_2称为闭包
```js
function func_1(){
  const n = 10;
  function func_2(){
    console.log(n)
  }
  return func_2
}
```
### 2.闭包形成的条件
- 函数嵌套
- 内部函数引用外部函数的局部变量

### 3.闭包的内存泄露

- 全局作用域：当网页关闭时才会销毁的作用域
- 私有作用域：只有函数执行时才会产生的作用域

一般情况下，函数执行会形成一个新的私有作用域，一般函数执行完成后，我们当前作用域都会主动的进行释放和销毁。但当遇到函数执行返回一个引用数据类型的值，并且在函数的外面被某个变量接收了，这种情况下形成的私有作用域都不会销毁。

💡内存泄漏：指任何对象在不被需要之后，它仍然存在。
例：
```js 
function fn(){
  var num = 100;
  return function(){}
}
var f = fn() // 此时fn形成的作用域被f接收,不会被销毁
```
因此闭包不能滥用，否则会导致内存泄漏，影响网页性能。闭包使用完了之后，要立即释放资源，将引用变量指向null。

经典面试题：
```js
function outer(){
  var num = 0; // 内部变量
  return function add(){
    num++;
    console.log(num);
  }
}

var func1 = outer();
func1(); // 等同于调用add -> num=1
func1(); // 再次调用 num=2
var func2 = outer();
func2(); // num = 1  重新引用时,生成的作用域也是全新的
func2(); // num = 2
```
### 4.闭包的作用
1. 可以读取函数内部的变量
2. 可以使变量的值长期保存在内存中，生命周期比较长。但需要及时释放，否则会影响网页性能
3. 可以用来实现Js模块

### 5.闭包的运用
- 防抖节流

### 总结
闭包就是在函数中**定义并返回**另一个函数, 里层的函数调用外层函数的变量, 从而形成闭包. 而因为外层函数的变量被里层函数调用, 就会导致变量不会被垃圾回收机制回收,从而存在内存泄漏的风险
